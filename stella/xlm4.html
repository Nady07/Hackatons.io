<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StellarPay - Billetera Digital sin Fronteras</title>
    <style>
        :root {
            --stellar-primary: #7D00FF;
            --stellar-secondary: #00BFFF;
            --stellar-dark: #090C1C;
            --stellar-light: #1D2D50;
            --success: #00D1B2;
            --danger: #FF3860;
            --warning: #FFDD57;
            --dark: #2D3436;
            --light: #F5F6FA;
            --white: #FFFFFF;
            --gray: #636E72;
            --text-primary: #2D3436;
            --text-secondary: #636E72;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        @font-face {
            font-family: 'Inter';
            src: url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        }
        
        body {
            background-color: var(--light);
            color: var(--text-primary);
            -webkit-font-smoothing: antialiased;
        }
        
        .app-container {
            max-width: 420px;
            margin: 0 auto;
            background-color: var(--white);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
        }
        
        /* Pantalla de Registro Mejorada */
        .register-screen {
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background: linear-gradient(135deg, var(--stellar-dark), var(--stellar-primary));
        }
        
        .logo {
            font-size: 32px;
            font-weight: 700;
            color: var(--white);
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .logo i {
            margin-right: 10px;
            color: var(--stellar-secondary);
        }
        
        .register-form {
            width: 100%;
            background-color: var(--white);
            padding: 25px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .input-group {
            margin-bottom: 20px;
            position: relative;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-primary);
            font-size: 14px;
        }
        
        .input-group input {
            width: 100%;
            padding: 14px 15px;
            border: 1px solid #E0E0E0;
            border-radius: 12px;
            font-size: 16px;
            background-color: var(--light);
            transition: all 0.3s;
        }
        
        .input-group input:focus {
            border-color: var(--stellar-primary);
            box-shadow: 0 0 0 3px rgba(125, 0, 255, 0.1);
            outline: none;
        }
        
        .input-group .input-icon {
            position: absolute;
            right: 15px;
            top: 42px;
            color: var(--gray);
            cursor: pointer;
        }
        
        .register-btn {
            width: 100%;
            background: linear-gradient(135deg, var(--stellar-primary), var(--stellar-secondary));
            color: white;
            border: none;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            margin-top: 10px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(125, 0, 255, 0.3);
        }
        
        .register-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(125, 0, 255, 0.4);
        }
        
        .login-link {
            text-align: center;
            margin-top: 20px;
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        .login-link a {
            color: var(--stellar-primary);
            text-decoration: none;
            font-weight: 600;
        }
        
        /* Pantalla Principal Mejorada */
        .main-screen {
            display: none;
            flex-direction: column;
            height: 100vh;
        }
        
        .header {
            background: linear-gradient(135deg, var(--stellar-dark), var(--stellar-primary));
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header-title {
            font-weight: 600;
            font-size: 20px;
        }
        
        .profile {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--stellar-primary);
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .profile:hover {
            transform: scale(1.05);
        }
        
        .balance-card {
            background: linear-gradient(135deg, var(--stellar-dark), var(--stellar-primary));
            color: white;
            margin: 20px;
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 8px 20px rgba(125, 0, 255, 0.3);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s;
        }
        
        .balance-card:hover {
            transform: translateY(-5px);
        }
        
        .balance-card::after {
            content: "";
            position: absolute;
            top: -30px;
            right: -30px;
            width: 80px;
            height: 80px;
            background-color: rgba(255,255,255,0.1);
            border-radius: 50%;
        }
        
        .balance-title {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        
        .balance-amount {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 20px;
        }
        
        .balance-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .balance-btn {
            flex: 1;
            min-width: 100px;
            background-color: rgba(255,255,255,0.15);
            border: none;
            color: white;
            padding: 10px;
            border-radius: 10px;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            transition: all 0.3s;
            cursor: pointer;
            font-weight: 500;
            margin-bottom: 5px;
        }
        
        .balance-btn:hover {
            background-color: rgba(255,255,255,0.25);
            transform: translateY(-2px);
        }
        
        /* Nueva sección de servicios rápidos mejorada */
        .services-section {
            padding: 0 20px;
            margin-bottom: 15px;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 10px;
        }
        
        .service-item {
            background-color: var(--white);
            border-radius: 12px;
            padding: 15px 10px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid #eee;
        }
        
        .service-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-color: var(--stellar-primary);
        }
        
        .service-icon {
            width: 40px;
            height: 40px;
            margin: 0 auto 10px;
            border-radius: 50%;
            background-color: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--stellar-primary);
            font-size: 18px;
        }
        
        .service-name {
            font-size: 12px;
            font-weight: 600;
        }
        
        /* Sección de lugares mejorada con más información */
        .places-section {
            padding: 0 20px;
            margin-bottom: 15px;
        }
        
        .places-container {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding-bottom: 10px;
            scrollbar-width: none;
        }
        
        .places-container::-webkit-scrollbar {
            display: none;
        }
        
        .place-card {
            min-width: 180px;
            height: 120px;
            background: linear-gradient(45deg, var(--stellar-dark), var(--stellar-light));
            border-radius: 14px;
            padding: 15px;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: transform 0.3s;
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
        }
        
        .place-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.4);
            z-index: 1;
        }
        
        .place-card:hover {
            transform: translateY(-5px);
        }
        
        .place-name {
            font-size: 14px;
            font-weight: 600;
            z-index: 2;
            position: relative;
        }
        
        .place-type {
            font-size: 11px;
            opacity: 0.9;
            z-index: 2;
            position: relative;
        }
        
        /* Tarjeta Stellar Lumens mejorada */
        .stellar-card {
            min-width: 220px;
            height: 130px;
            background: linear-gradient(135deg, var(--stellar-primary), var(--stellar-dark));
            border-radius: 14px;
            padding: 18px;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            margin: 0 20px 15px;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s;
        }
        
        .stellar-card:hover {
            transform: translateY(-5px);
        }
        
        .stellar-card::after {
            content: "";
            position: absolute;
            top: -30px;
            right: -30px;
            width: 80px;
            height: 80px;
            background-color: rgba(255,255,255,0.1);
            border-radius: 50%;
        }
        
        .stellar-card-bank {
            font-size: 14px;
            opacity: 0.9;
            font-weight: 500;
        }
        
        .stellar-card-number {
            font-size: 16px;
            letter-spacing: 1px;
            margin: 10px 0;
            font-weight: 500;
        }
        
        .stellar-card-footer {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            opacity: 0.9;
        }
        
        .stellar-card-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .stellar-card-btn {
            flex: 1;
            background-color: rgba(255,255,255,0.15);
            border: none;
            color: white;
            padding: 8px;
            border-radius: 8px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .stellar-card-btn:hover {
            background-color: rgba(255,255,255,0.25);
        }
        
        .history-section {
            flex: 1;
            padding: 0 20px;
            overflow-y: auto;
            margin-bottom: 70px;
        }
        
        .history-item {
            display: flex;
            justify-content: space-between;
            padding: 16px 0;
            border-bottom: 1px solid #eee;
            transition: background-color 0.2s;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 5px;
        }
        
        .history-item:hover {
            background-color: rgba(125, 0, 255, 0.05);
        }
        
        .history-info {
            display: flex;
            align-items: center;
        }
        
        .history-icon {
            width: 42px;
            height: 42px;
            border-radius: 12px;
            background-color: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: var(--stellar-primary);
            font-size: 18px;
        }
        
        .history-details h4 {
            font-size: 15px;
            margin-bottom: 3px;
            font-weight: 500;
        }
        
        .history-details p {
            font-size: 13px;
            color: var(--gray);
        }
        
        .history-amount {
            font-weight: 600;
            text-align: right;
            display: flex;
            flex-direction: column;
        }
        
        .history-amount.positive {
            color: var(--success);
        }
        
        .history-amount.negative {
            color: var(--danger);
        }
        
        .section-title {
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--text-primary);
        }
        
        .section-title span {
            font-size: 12px;
            color: var(--stellar-primary);
            font-weight: 500;
            cursor: pointer;
        }
        
        .nav-bar {
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            background-color: var(--white);
            border-top: 1px solid #eee;
            position: fixed;
            bottom: 0;
            width: 100%;
            max-width: 420px;
            z-index: 10;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--gray);
            font-size: 12px;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 10px;
            transition: all 0.3s;
        }
        
        .nav-item.active {
            color: var(--stellar-primary);
            background-color: rgba(125, 0, 255, 0.1);
            transform: translateY(-5px);
        }
        
        .nav-item.active .nav-icon {
            transform: scale(1.1);
        }
        
        .nav-icon {
            font-size: 20px;
            margin-bottom: 5px;
            transition: all 0.3s;
        }
        
        /* Pantalla de Criptomonedas mejorada y reorganizada */
        .crypto-screen {
            display: none;
            flex-direction: column;
            height: 100vh;
        }
        
        .crypto-header {
            padding: 20px;
            background-color: var(--white);
            border-bottom: 1px solid #eee;
        }
        
        .crypto-search {
            width: 100%;
            padding: 14px 20px;
            border: 1px solid #ddd;
            border-radius: 12px;
            font-size: 14px;
            background-color: var(--light);
            transition: all 0.3s;
        }
        
        .crypto-search:focus {
            border-color: var(--stellar-primary);
            box-shadow: 0 0 0 3px rgba(125, 0, 255, 0.1);
            outline: none;
        }
        
        .crypto-assets {
            display: flex;
            flex-direction: column;
            flex: 1;
            overflow-y: auto;
            margin-bottom: 70px;
        }
        
        .crypto-assets-section {
            padding: 15px 20px;
        }
        
        .stellar-card-section {
            padding: 0;
        }
        
        .favorites-section {
            padding: 15px 20px;
            background-color: var(--white);
            margin-bottom: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .favorites-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 10px;
        }
        
        .favorite-item {
            background-color: var(--white);
            border-radius: 12px;
            padding: 15px 10px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid #eee;
        }
        
        .favorite-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-color: var(--stellar-primary);
        }
        
        .favorite-icon {
            width: 40px;
            height: 40px;
            margin: 0 auto 10px;
            border-radius: 50%;
            background-color: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--stellar-primary);
            font-size: 18px;
        }
        
        .favorite-name {
            font-size: 12px;
            font-weight: 600;
        }
        
        .favorite-price {
            font-size: 11px;
            color: var(--success);
            margin-top: 3px;
            font-weight: 500;
        }
        
        .favorite-price.negative {
            color: var(--danger);
        }
        
        .crypto-list {
            flex: 1;
            padding: 0 20px;
            overflow-y: auto;
        }
        
        .crypto-item {
            display: flex;
            justify-content: space-between;
            padding: 16px 0;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background-color 0.2s;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 5px;
        }
        
        .crypto-item:hover {
            background-color: rgba(125, 0, 255, 0.05);
        }
        
        .crypto-info {
            display: flex;
            align-items: center;
        }
        
        .crypto-icon {
            width: 42px;
            height: 42px;
            border-radius: 12px;
            background-color: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 18px;
        }
        
        .crypto-details h4 {
            font-size: 15px;
            margin-bottom: 3px;
            font-weight: 500;
        }
        
        .crypto-details p {
            font-size: 13px;
            color: var(--gray);
        }
        
        .crypto-price {
            text-align: right;
            display: flex;
            flex-direction: column;
        }
        
        .crypto-price .price {
            font-weight: 600;
        }
        
        .crypto-price .change {
            font-size: 12px;
            color: var(--success);
            font-weight: 500;
        }
        
        .crypto-price .change.negative {
            color: var(--danger);
        }
        
        /* Pantalla de Conversión mejorada y simplificada */
        .convert-screen {
            display: none;
            flex-direction: column;
            height: 100vh;
        }
        
        .convert-container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .convert-form-container {
            flex: 1;
            padding: 20px;
            background-color: var(--white);
            border-bottom: 1px solid #eee;
        }
        
        .convert-header {
            padding: 15px 20px;
            background-color: var(--white);
            border-bottom: 1px solid #eee;
        }
        
        .convert-title {
            font-weight: 600;
            font-size: 20px;
            text-align: center;
            margin-bottom: 5px;
            color: var(--text-primary);
        }
        
        .convert-subtitle {
            text-align: center;
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .convert-form {
            margin-bottom: 20px;
        }
        
        .convert-card {
            background-color: var(--white);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            border: 1px solid #eee;
        }
        
        .input-group-convert {
            margin-bottom: 15px;
        }
        
        .input-group-convert label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: var(--text-primary);
            font-weight: 500;
        }
        
        .input-group-convert input, 
        .input-group-convert select {
            width: 100%;
            padding: 14px 15px;
            border: 1px solid #E0E0E0;
            border-radius: 12px;
            font-size: 16px;
            background-color: var(--light);
            transition: all 0.3s;
        }
        
        .input-group-convert input:focus, 
        .input-group-convert select:focus {
            border-color: var(--stellar-primary);
            box-shadow: 0 0 0 3px rgba(125, 0, 255, 0.1);
            outline: none;
        }
        
        .convert-arrow {
            text-align: center;
            margin: 15px 0;
            color: var(--stellar-primary);
            font-size: 24px;
        }
        
        .convert-btn {
            width: 100%;
            background: linear-gradient(135deg, var(--stellar-primary), var(--stellar-secondary));
            color: white;
            border: none;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            margin-top: 10px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(125, 0, 255, 0.3);
        }
        
        .convert-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(125, 0, 255, 0.4);
        }
        
        .convert-rate {
            text-align: center;
            margin-top: 15px;
            font-size: 14px;
            color: var(--text-secondary);
        }
        
        .convert-history {
            flex: 1;
            padding: 15px 20px;
            overflow-y: auto;
            background-color: var(--light);
        }
        
        /* Pantalla de Saldos mejorada */
        .balance-screen {
            display: none;
            flex-direction: column;
            height: 100vh;
        }
        
        .balance-tabs {
            display: flex;
            border-bottom: 1px solid #eee;
            background-color: var(--white);
        }
        
        .balance-tab {
            flex: 1;
            text-align: center;
            padding: 15px;
            font-weight: 500;
            color: var(--gray);
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .balance-tab.active {
            color: var(--stellar-primary);
            font-weight: 600;
        }
        
        .balance-tab.active::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 3px;
            background-color: var(--stellar-primary);
            border-radius: 3px;
        }
        
        .balance-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            margin-bottom: 70px;
        }
        
        .balance-card-local, 
        .balance-card-crypto {
            background-color: var(--white);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            border: 1px solid #eee;
        }
        
        .balance-item {
            display: flex;
            justify-content: space-between;
            padding: 14px 0;
            border-bottom: 1px solid #eee;
            align-items: center;
        }
        
        .balance-item:last-child {
            border-bottom: none;
        }
        
        .balance-label {
            font-weight: 500;
            color: var(--text-primary);
        }
        
        .balance-value {
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .balance-total {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
            font-weight: 600;
            font-size: 18px;
            display: flex;
            justify-content: space-between;
        }
        
        .balance-total-usd {
            margin-top: 10px;
            font-size: 16px;
            color: var(--text-secondary);
            display: flex;
            justify-content: space-between;
        }
        
        /* Pantalla de QR simplificada */
        .qr-screen {
            display: none;
            flex-direction: column;
            height: 100vh;
        }
        
        .qr-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
        }
        
        .qr-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--text-primary);
        }
        
        .qr-code-container {
            width: 220px;
            height: 220px;
            background-color: var(--white);
            border: 1px solid #eee;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            padding: 20px;
        }
        
        .qr-code {
            width: 100%;
            height: 100%;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: var(--stellar-primary);
        }
        
        .qr-address {
            background-color: var(--white);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 30px;
            word-break: break-all;
            font-family: monospace;
            font-size: 14px;
            border: 1px solid #eee;
            width: 80%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .qr-actions {
            display: flex;
            gap: 15px;
            width: 100%;
            padding: 0 20px;
            margin-bottom: 80px;
        }
        
        .qr-btn {
            flex: 1;
            padding: 15px;
            border-radius: 12px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .qr-btn-primary {
            background: linear-gradient(135deg, var(--stellar-primary), var(--stellar-secondary));
            color: white;
            box-shadow: 0 4px 10px rgba(125, 0, 255, 0.3);
        }
        
        .qr-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(125, 0, 255, 0.4);
        }
        
        .qr-btn-secondary {
            background-color: var(--white);
            color: var(--text-primary);
            border: 1px solid #E0E0E0;
        }
        
        .qr-btn-secondary:hover {
            background-color: #f0f0f0;
        }
        
        /* Modales mejorados */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 100;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s;
        }
        
        .modal-content {
            background-color: white;
            padding: 25px;
            border-radius: 16px;
            width: 90%;
            max-width: 400px;
            transform: translateY(0);
            transition: transform 0.3s;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            border: 1px solid #eee;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-weight: 600;
            font-size: 18px;
            color: var(--stellar-primary);
        }
        
        .close-modal {
            font-size: 24px;
            color: var(--gray);
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .close-modal:hover {
            color: var(--dark);
        }
        
        .modal-body {
            margin-bottom: 20px;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        .modal-btn {
            padding: 12px 20px;
            border-radius: 12px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .modal-btn-primary {
            background: linear-gradient(135deg, var(--stellar-primary), var(--stellar-secondary));
            color: white;
            box-shadow: 0 4px 10px rgba(125, 0, 255, 0.3);
        }
        
        .modal-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(125, 0, 255, 0.4);
        }
        
        .modal-btn-secondary {
            background-color: var(--white);
            color: var(--text-primary);
            border: 1px solid #E0E0E0;
        }
        
        .modal-btn-secondary:hover {
            background-color: #f0f0f0;
        }
        
        /* Modal de Servicios mejorado */
        .services-modal-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .service-modal-item {
            border: 1px solid #E0E0E0;
            border-radius: 12px;
            padding: 15px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background-color: var(--white);
        }
        
        .service-modal-item:hover {
            border-color: var(--stellar-primary);
            transform: translateY(-2px);
        }
        
        .service-modal-icon {
            width: 40px;
            height: 40px;
            margin: 0 auto 10px;
            border-radius: 50%;
            background-color: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--stellar-primary);
            font-size: 18px;
        }
        
        .service-modal-name {
            font-size: 12px;
            font-weight: 600;
        }
        
        /* Modal de Lugares con más información */
        .place-details-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 100;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s;
        }
        
        .place-details-content {
            background-color: white;
            padding: 25px;
            border-radius: 16px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            border: 1px solid #eee;
        }
        
        .place-details-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .place-details-title {
            font-weight: 600;
            font-size: 18px;
            color: var(--stellar-primary);
        }
        
        .place-details-image {
            width: 100%;
            height: 150px;
            background-size: cover;
            background-position: center;
            border-radius: 12px;
            margin-bottom: 15px;
            position: relative;
        }
        
        .place-details-image::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
        }
        
        .place-details-info {
            margin-bottom: 15px;
        }
        
        .place-details-info-item {
            display: flex;
            margin-bottom: 10px;
        }
        
        .place-details-info-icon {
            width: 24px;
            color: var(--stellar-primary);
            margin-right: 10px;
        }
        
        .place-details-info-text {
            flex: 1;
            font-size: 14px;
        }
        
        .place-details-description {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 20px;
            line-height: 1.5;
        }
        
        .place-details-actions {
            display: flex;
            gap: 10px;
        }
        
        .place-details-btn {
            flex: 1;
            padding: 12px;
            border-radius: 12px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .place-details-btn-primary {
            background: linear-gradient(135deg, var(--stellar-primary), var(--stellar-secondary));
            color: white;
            box-shadow: 0 4px 10px rgba(125, 0, 255, 0.3);
        }
        
        .place-details-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(125, 0, 255, 0.4);
        }
        
        .place-details-btn-secondary {
            background-color: var(--white);
            color: var(--text-primary);
            border: 1px solid #E0E0E0;
        }
        
        .place-details-btn-secondary:hover {
            background-color: #f0f0f0;
        }
        
        /* Modal de Recarga mejorado */
        .recharge-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .recharge-option {
            border: 1px solid #E0E0E0;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background-color: var(--white);
        }
        
        .recharge-option:hover {
            border-color: var(--stellar-primary);
            transform: translateY(-2px);
        }
        
        .recharge-option.active {
            border-color: var(--stellar-primary);
            background-color: rgba(125, 0, 255, 0.1);
            transform: translateY(-2px);
        }
        
        /* Modal de Transferencia mejorado */
        .transfer-input-group {
            margin-bottom: 15px;
        }
        
        .transfer-input-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: var(--text-primary);
            font-weight: 500;
        }
        
        .transfer-input-group input, 
        .transfer-input-group select {
            width: 100%;
            padding: 14px 15px;
            border: 1px solid #E0E0E0;
            border-radius: 12px;
            font-size: 16px;
            background-color: var(--light);
            transition: all 0.3s;
        }
        
        .transfer-input-group input:focus, 
        .transfer-input-group select:focus {
            border-color: var(--stellar-primary);
            box-shadow: 0 0 0 3px rgba(125, 0, 255, 0.1);
            outline: none;
        }
        
        /* Animaciones */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* Efecto de carga */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Responsive */
        @media (max-width: 360px) {
            .favorites-grid, .services-grid, .services-modal-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .nav-icon {
                font-size: 18px;
            }
            
            .nav-item {
                font-size: 10px;
            }
            
            .recharge-options {
                grid-template-columns: 1fr;
            }
            
            .qr-actions, .place-details-actions {
                flex-direction: column;
            }
            
            .balance-btn {
                min-width: 80px;
                font-size: 12px;
                padding: 8px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Pantalla de Registro Mejorada -->
        <div class="register-screen" id="register-screen">
            <div class="logo">
                <i class="fas fa-wallet"></i> StellarPay
            </div>
            
            <div class="register-form">
                <div class="input-group">
                    <label for="name">Nombre completo</label>
                    <input type="text" id="name" placeholder="Ingresa tu nombre">
                </div>
                
                <div class="input-group">
                    <label for="email">Correo electrónico</label>
                    <input type="email" id="email" placeholder="Ingresa tu correo">
                </div>
                
                <div class="input-group">
                    <label for="phone">Teléfono</label>
                    <input type="tel" id="phone" placeholder="Ingresa tu teléfono">
                </div>
                
                <div class="input-group">
                    <label for="password">Contraseña</label>
                    <input type="password" id="password" placeholder="Crea una contraseña">
                    <i class="fas fa-eye input-icon" id="toggle-password"></i>
                </div>
                
                <button class="register-btn" id="register-btn">
                    <span id="register-text">Registrarse</span>
                    <span class="loading-spinner" id="register-spinner" style="display: none;"></span>
                </button>
                
                <div class="login-link">
                    ¿Ya tienes una cuenta? <a href="#" id="login-link">Inicia sesión</a>
                </div>
            </div>
        </div>
        
        <!-- Pantalla Principal Mejorada -->
        <div class="main-screen" id="main-screen">
            <div class="header">
                <div class="header-title">Mi Billetera</div>
                <div class="profile">JP</div>
            </div>
            
            <div class="balance-card">
                <div class="balance-title">Saldo disponible</div>
                <div class="balance-amount">Bs. 5,250.80</div>
                <div class="balance-actions">
                    <button class="balance-btn" id="recharge-btn">
                        <i class="fas fa-plus"></i> Recargar
                    </button>
                    <button class="balance-btn" id="transfer-btn">
                        <i class="fas fa-exchange-alt"></i> Transferir
                    </button>
                    <button class="balance-btn" id="pay-btn">
                        <i class="fas fa-qrcode"></i> Pagar
                    </button>
                    <button class="balance-btn" id="services-btn">
                        <i class="fas fa-bolt"></i> Servicios
                    </button>
                    <button class="balance-btn" id="remittance-btn">
                        <i class="fas fa-globe-americas"></i> Remesas
                    </button>
                    <button class="balance-btn" id="places-btn">
                        <i class="fas fa-store"></i> Lugares
                    </button>
                </div>
            </div>
            
            <!-- Sección de servicios rápidos mejorada -->
            <div class="services-section">
                <div class="section-title">Servicios rápidos</div>
                
                <div class="services-grid">
                    <div class="service-item" id="mobile-recharge">
                        <div class="service-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="service-name">Recarga móvil</div>
                    </div>
                    
                    <div class="service-item" id="electricity">
                        <div class="service-icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <div class="service-name">Luz</div>
                    </div>
                    
                    <div class="service-item" id="water">
                        <div class="service-icon">
                            <i class="fas fa-tint"></i>
                        </div>
                        <div class="service-name">Agua</div>
                    </div>
                    
                    <div class="service-item" id="gas">
                        <div class="service-icon">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="service-name">Gas</div>
                    </div>
                    
                    <div class="service-item" id="internet">
                        <div class="service-icon">
                            <i class="fas fa-wifi"></i>
                        </div>
                        <div class="service-name">Internet</div>
                    </div>
                    
                    <div class="service-item" id="tv">
                        <div class="service-icon">
                            <i class="fas fa-tv"></i>
                        </div>
                        <div class="service-name">TV Cable</div>
                    </div>
                    
                    <div class="service-item" id="collective-wallet">
                        <div class="service-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="service-name">Cartera grupal</div>
                    </div>
                    
                    <div class="service-item" id="microcredit">
                        <div class="service-icon">
                            <i class="fas fa-hand-holding-usd"></i>
                        </div>
                        <div class="service-name">Microcrédito</div>
                    </div>
                </div>
            </div>
            
            <!-- Sección de lugares mejorada -->
            <div class="places-section">
                <div class="section-title">
                    Lugares que aceptan Stellar
                    <span>Ver todos</span>
                </div>
                
                <div class="places-container">
                    <div class="place-card" style="background-image: url('https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60')" data-place="cafe-stellar">
                        <div class="place-name">Café Stellar</div>
                        <div class="place-type">Cafetería</div>
                    </div>
                    
                    <div class="place-card" style="background-image: url('https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60')" data-place="hotel-lumens">
                        <div class="place-name">Hotel Lumens</div>
                        <div class="place-type">Hotel</div>
                    </div>
                    
                    <div class="place-card" style="background-image: url('https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60')" data-place="restaurante-xlm">
                        <div class="place-name">Restaurante XLM</div>
                        <div class="place-type">Restaurante</div>
                    </div>
                </div>
            </div>
            
            <div class="history-section">
                <div class="section-title">Historial de transacciones</div>
                
                <div class="history-item">
                    <div class="history-info">
                        <div class="history-icon">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <div class="history-details">
                            <h4>Supermercado</h4>
                            <p>Ayer, 15:30</p>
                        </div>
                    </div>
                    <div class="history-amount negative">- Bs. 120.50</div>
                </div>
                
                <div class="history-item">
                    <div class="history-info">
                        <div class="history-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="history-details">
                            <h4>Depósito</h4>
                            <p>Ayer, 10:15</p>
                        </div>
                    </div>
                    <div class="history-amount positive">+ Bs. 1,000.00</div>
                </div>
                
                <div class="history-item">
                    <div class="history-info">
                        <div class="history-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="history-details">
                            <h4>Compra XLM</h4>
                            <p>20/05, 19:45</p>
                        </div>
                    </div>
                    <div class="history-amount negative">- Bs. 850.00</div>
                </div>
            </div>
            
            <nav class="nav-bar">
                <div class="nav-item active" id="nav-home">
                    <div class="nav-icon"><i class="fas fa-home"></i></div>
                    <div>Inicio</div>
                </div>
                <div class="nav-item" id="nav-crypto">
                    <div class="nav-icon"><i class="fas fa-coins"></i></div>
                    <div>Cripto</div>
                </div>
                <div class="nav-item" id="nav-convert">
                    <div class="nav-icon"><i class="fas fa-exchange-alt"></i></div>
                    <div>Convertir</div>
                </div>
                <div class="nav-item" id="nav-balance">
                    <div class="nav-icon"><i class="fas fa-chart-pie"></i></div>
                    <div>Saldos</div>
                </div>
                <div class="nav-item" id="nav-qr">
                    <div class="nav-icon"><i class="fas fa-qrcode"></i></div>
                    <div>QR</div>
                </div>
            </nav>
        </div>
        
        <!-- Pantalla de Criptomonedas Mejorada y Reorganizada -->
        <div class="crypto-screen" id="crypto-screen">
            <div class="crypto-header">
                <input type="text" class="crypto-search" placeholder="Buscar criptomonedas...">
            </div>
            
            <div class="crypto-assets">
                <!-- Tarjeta Stellar Lumens mejorada -->
                <div class="stellar-card-section">
                    <div class="stellar-card">
                        <div class="stellar-card-bank">Stellar Lumens</div>
                        <div class="stellar-card-number">•••• •••• •••• 1234</div>
                        <div class="stellar-card-footer">
                            <span>Juan Pérez</span>
                            <span>XLM</span>
                        </div>
                        <div class="stellar-card-actions">
                            <button class="stellar-card-btn" id="buy-xlm">
                                <i class="fas fa-shopping-cart"></i> Comprar
                            </button>
                            <button class="stellar-card-btn" id="sell-xlm">
                                <i class="fas fa-money-bill-wave"></i> Vender
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Favoritos -->
                <div class="favorites-section">
                    <div class="section-title">Mis favoritas</div>
                    
                    <div class="favorites-grid">
                        <div class="favorite-item">
                            <div class="favorite-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="favorite-name">XLM</div>
                            <div class="favorite-price">+2.5%</div>
                        </div>
                        
                        <div class="favorite-item">
                            <div class="favorite-icon">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div class="favorite-name">USDT</div>
                            <div class="favorite-price">+0.1%</div>
                        </div>
                        
                        <div class="favorite-item" style="color: #00CEFF;">
                            <div class="favorite-icon">
                                <i class="fab fa-ethereum"></i>
                            </div>
                            <div class="favorite-name">ETH</div>
                            <div class="favorite-price">+1.8%</div>
                        </div>
                    </div>
                </div>
                
                <!-- Lista de criptomonedas -->
                <div class="crypto-assets-section">
                    <div class="section-title">Tokens en Stellar</div>
                    
                    <div class="crypto-list">
                        <div class="crypto-item">
                            <div class="crypto-info">
                                <div class="crypto-icon" style="color: var(--stellar-primary);">
                                    <i class="fas fa-star"></i>
                                </div>
                                <div class="crypto-details">
                                    <h4>Stellar Lumens</h4>
                                    <p>XLM</p>
                                </div>
                            </div>
                            <div class="crypto-price">
                                <div class="price">$0.12</div>
                                <div class="change">+2.5%</div>
                            </div>
                        </div>
                        
                        <div class="crypto-item">
                            <div class="crypto-info">
                                <div class="crypto-icon" style="color: #2775CA;">
                                    <i class="fas fa-dollar-sign"></i>
                                </div>
                                <div class="crypto-details">
                                    <h4>Tether</h4>
                                    <p>USDT</p>
                                </div>
                            </div>
                            <div class="crypto-price">
                                <div class="price">$1.00</div>
                                <div class="change">+0.1%</div>
                            </div>
                        </div>
                        
                        <div class="crypto-item">
                            <div class="crypto-info">
                                <div class="crypto-icon" style="color: #00CEFF;">
                                    <i class="fab fa-ethereum"></i>
                                </div>
                                <div class="crypto-details">
                                    <h4>Ethereum</h4>
                                    <p>ETH</p>
                                </div>
                            </div>
                            <div class="crypto-price">
                                <div class="price">$2,350.75</div>
                                <div class="change">+1.8%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <nav class="nav-bar">
                <div class="nav-item" id="nav-crypto-home">
                    <div class="nav-icon"><i class="fas fa-home"></i></div>
                    <div>Inicio</div>
                </div>
                <div class="nav-item active" id="nav-crypto-crypto">
                    <div class="nav-icon"><i class="fas fa-coins"></i></div>
                    <div>Cripto</div>
                </div>
                <div class="nav-item" id="nav-crypto-convert">
                    <div class="nav-icon"><i class="fas fa-exchange-alt"></i></div>
                    <div>Convertir</div>
                </div>
                <div class="nav-item" id="nav-crypto-balance">
                    <div class="nav-icon"><i class="fas fa-chart-pie"></i></div>
                    <div>Saldos</div>
                </div>
                <div class="nav-item" id="nav-crypto-qr">
                    <div class="nav-icon"><i class="fas fa-qrcode"></i></div>
                    <div>QR</div>
                </div>
            </nav>
        </div>
        
        <!-- Pantalla de Conversión Mejorada y Simplificada -->
        <div class="convert-screen" id="convert-screen">
            <div class="convert-container">
                <div class="convert-header">
                    <div class="convert-title">Conversión de Moneda</div>
                    <div class="convert-subtitle">Convierte entre Bs., USDT y XLM</div>
                </div>
                
                <div class="convert-form-container">
                    <div class="convert-form">
                        <div class="input-group-convert">
                            <label for="convert-from">De</label>
                            <select id="convert-from">
                                <option value="BOB">Bolivianos (Bs.)</option>
                                <option value="XLM">Stellar Lumens (XLM)</option>
                                <option value="USDT">Tether (USDT)</option>
                            </select>
                        </div>
                        
                        <div class="convert-arrow">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        
                        <div class="input-group-convert">
                            <label for="convert-to">A</label>
                            <select id="convert-to">
                                <option value="XLM">Stellar Lumens (XLM)</option>
                                <option value="USDT">Tether (USDT)</option>
                                <option value="BOB">Bolivianos (Bs.)</option>
                            </select>
                        </div>
                        
                        <div class="input-group-convert">
                            <label for="convert-amount">Monto</label>
                            <input type="number" id="convert-amount" placeholder="Ingresa el monto">
                        </div>
                        
                        <button class="convert-btn" id="convert-btn">
                            <span id="convert-text"><i class="fas fa-exchange-alt"></i> Convertir</span>
                            <span class="loading-spinner" id="convert-spinner" style="display: none;"></span>
                        </button>
                        
                        <div class="convert-rate">
                            Tasa actual: 1 XLM = Bs. 0.85 | 1 USDT = Bs. 6.90
                        </div>
                    </div>
                </div>
                
                <div class="convert-history">
                    <div class="section-title">Historial de conversiones</div>
                    
                    <div class="history-item">
                        <div class="history-info">
                            <div class="history-icon">
                                <i class="fas fa-exchange-alt"></i>
                            </div>
                            <div class="history-details">
                                <h4>BOB a XLM</h4>
                                <p>Ayer, 14:30</p>
                            </div>
                        </div>
                        <div class="history-amount">
                            Bs. 850.00 → 1,000 XLM
                        </div>
                    </div>
                    
                    <div class="history-item">
                        <div class="history-info">
                            <div class="history-icon">
                                <i class="fas fa-exchange-alt"></i>
                            </div>
                            <div class="history-details">
                                <h4>USDT a BOB</h4>
                                <p>20/05, 10:15</p>
                            </div>
                        </div>
                        <div class="history-amount">
                            100 USDT → Bs. 690.00
                        </div>
                    </div>
                    
                    <div class="history-item">
                        <div class="history-info">
                            <div class="history-icon">
                                <i class="fas fa-exchange-alt"></i>
                            </div>
                            <div class="history-details">
                                <h4>XLM a USDT</h4>
                                <p>18/05, 16:45</p>
                            </div>
                        </div>
                        <div class="history-amount">
                            500 XLM → 50 USDT
                        </div>
                    </div>
                </div>
            </div>
            
            <nav class="nav-bar">
                <div class="nav-item" id="nav-convert-home">
                    <div class="nav-icon"><i class="fas fa-home"></i></div>
                    <div>Inicio</div>
                </div>
                <div class="nav-item" id="nav-convert-crypto">
                    <div class="nav-icon"><i class="fas fa-coins"></i></div>
                    <div>Cripto</div>
                </div>
                <div class="nav-item active" id="nav-convert-convert">
                    <div class="nav-icon"><i class="fas fa-exchange-alt"></i></div>
                    <div>Convertir</div>
                </div>
                <div class="nav-item" id="nav-convert-balance">
                    <div class="nav-icon"><i class="fas fa-chart-pie"></i></div>
                    <div>Saldos</div>
                </div>
                <div class="nav-item" id="nav-convert-qr">
                    <div class="nav-icon"><i class="fas fa-qrcode"></i></div>
                    <div>QR</div>
                </div>
            </nav>
        </div>
        
        <!-- Pantalla de Saldos Mejorada -->
        <div class="balance-screen" id="balance-screen">
            <div class="balance-tabs">
                <div class="balance-tab active" id="tab-local">Moneda Local</div>
                <div class="balance-tab" id="tab-crypto">Activos Digitales</div>
            </div>
            
            <div class="balance-content">
                <div id="local-balance">
                    <div class="balance-card-local">
                        <div class="balance-item">
                            <span class="balance-label">Saldo disponible</span>
                            <span class="balance-value">Bs. 5,250.80</span>
                        </div>
                        
                        <div class="balance-item">
                            <span class="balance-label">Ahorros BBVA</span>
                            <span class="balance-value">Bs. 12,500.00</span>
                        </div>
                        
                        <div class="balance-item">
                            <span class="balance-label">Ahorros BCP</span>
                            <span class="balance-value">Bs. 8,300.50</span>
                        </div>
                        
                        <div class="balance-total">
                            <span>Total en bolivianos:</span>
                            <span>Bs. 26,051.30</span>
                        </div>
                    </div>
                </div>
                
                <div id="crypto-balance" style="display: none;">
                    <div class="balance-card-crypto">
                        <div class="balance-item">
                            <span class="balance-label">Stellar Lumens (XLM)</span>
                            <span class="balance-value">1,250 XLM</span>
                        </div>
                        
                        <div class="balance-item">
                            <span class="balance-label">Tether (USDT)</span>
                            <span class="balance-value">350.25 USDT</span>
                        </div>
                        
                        <div class="balance-total">
                            <span>Total en bolivianos:</span>
                            <span>Bs. 3,890.21</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <nav class="nav-bar">
                <div class="nav-item" id="nav-balance-home">
                    <div class="nav-icon"><i class="fas fa-home"></i></div>
                    <div>Inicio</div>
                </div>
                <div class="nav-item" id="nav-balance-crypto">
                    <div class="nav-icon"><i class="fas fa-coins"></i></div>
                    <div>Cripto</div>
                </div>
                <div class="nav-item" id="nav-balance-convert">
                    <div class="nav-icon"><i class="fas fa-exchange-alt"></i></div>
                    <div>Convertir</div>
                </div>
                <div class="nav-item active" id="nav-balance-balance">
                    <div class="nav-icon"><i class="fas fa-chart-pie"></i></div>
                    <div>Saldos</div>
                </div>
                <div class="nav-item" id="nav-balance-qr">
                    <div class="nav-icon"><i class="fas fa-qrcode"></i></div>
                    <div>QR</div>
                </div>
            </nav>
        </div>
        
        <!-- Pantalla de QR Simplificada -->
        <div class="qr-screen" id="qr-screen">
            <div class="qr-content">
                <div class="qr-title">Pago con QR Stellar</div>
                
                <div class="qr-code-container">
                    <div class="qr-code">
                        <i class="fas fa-qrcode"></i>
                    </div>
                </div>
                
                <div class="qr-address">
                    stellar:pay/juanperez123?asset=XLM
                </div>
                
                <div class="qr-actions">
                    <button class="qr-btn qr-btn-primary">
                        <i class="fas fa-download"></i> Guardar QR
                    </button>
                    <button class="qr-btn qr-btn-secondary">
                        <i class="fas fa-share-alt"></i> Compartir
                    </button>
                </div>
            </div>
            
            <nav class="nav-bar">
                <div class="nav-item" id="nav-qr-home">
                    <div class="nav-icon"><i class="fas fa-home"></i></div>
                    <div>Inicio</div>
                </div>
                <div class="nav-item" id="nav-qr-crypto">
                    <div class="nav-icon"><i class="fas fa-coins"></i></div>
                    <div>Cripto</div>
                </div>
                <div class="nav-item" id="nav-qr-convert">
                    <div class="nav-icon"><i class="fas fa-exchange-alt"></i></div>
                    <div>Convertir</div>
                </div>
                <div class="nav-item" id="nav-qr-balance">
                    <div class="nav-icon"><i class="fas fa-chart-pie"></i></div>
                    <div>Saldos</div>
                </div>
                <div class="nav-item active" id="nav-qr-qr">
                    <div class="nav-icon"><i class="fas fa-qrcode"></i></div>
                    <div>QR</div>
                </div>
            </nav>
        </div>
    </div>
    
    <!-- Modales Mejorados -->
    <!-- Modal de Compra de Cripto -->
    <div class="modal" id="buy-crypto-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Comprar en Stellar</div>
                <div class="close-modal" id="close-buy-crypto">&times;</div>
            </div>
            <div class="modal-body">
                <div class="input-group-convert">
                    <label for="crypto-amount">Monto a comprar</label>
                    <input type="number" id="crypto-amount" placeholder="Ej: 100">
                </div>
                
                <div class="input-group-convert">
                    <label for="crypto-currency">Activo digital</label>
                    <select id="crypto-currency">
                        <option value="XLM">Stellar Lumens (XLM)</option>
                        <option value="USDT">Tether (USDT)</option>
                    </select>
                </div>
                
                <div class="input-group-convert">
                    <label for="payment-method">Método de pago</label>
                    <select id="payment-method">
                        <option value="card">Tarjeta de crédito/débito</option>
                        <option value="transfer">Transferencia bancaria</option>
                        <option value="balance">Saldo disponible</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn modal-btn-secondary" id="cancel-buy-crypto">Cancelar</button>
                <button class="modal-btn modal-btn-primary" id="confirm-buy-crypto">
                    <span id="buy-text">Comprar</span>
                    <span class="loading-spinner" id="buy-spinner" style="display: none;"></span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Venta de Cripto -->
    <div class="modal" id="sell-crypto-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Vender en Stellar</div>
                <div class="close-modal" id="close-sell-crypto">&times;</div>
            </div>
            <div class="modal-body">
                <div class="input-group-convert">
                    <label for="sell-crypto-amount">Monto a vender</label>
                    <input type="number" id="sell-crypto-amount" placeholder="Ej: 100">
                </div>
                
                <div class="input-group-convert">
                    <label for="sell-crypto-currency">Activo digital</label>
                    <select id="sell-crypto-currency">
                        <option value="XLM">Stellar Lumens (XLM)</option>
                        <option value="USDT">Tether (USDT)</option>
                    </select>
                </div>
                
                <div class="input-group-convert">
                    <label for="receive-method">Método de recepción</label>
                    <select id="receive-method">
                        <option value="bank">Cuenta bancaria</option>
                        <option value="wallet">Billetera Stellar</option>
                        <option value="cash">Efectivo</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn modal-btn-secondary" id="cancel-sell-crypto">Cancelar</button>
                <button class="modal-btn modal-btn-primary" id="confirm-sell-crypto">
                    <span id="sell-text">Vender</span>
                    <span class="loading-spinner" id="sell-spinner" style="display: none;"></span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Recarga -->
    <div class="modal" id="recharge-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Recargar Saldo</div>
                <div class="close-modal" id="close-recharge">&times;</div>
            </div>
            <div class="modal-body">
                <div class="recharge-options">
                    <div class="recharge-option active" data-amount="100">
                        <div>Bs. 100</div>
                    </div>
                    <div class="recharge-option" data-amount="200">
                        <div>Bs. 200</div>
                    </div>
                    <div class="recharge-option" data-amount="500">
                        <div>Bs. 500</div>
                    </div>
                    <div class="recharge-option" data-amount="1000">
                        <div>Bs. 1,000</div>
                    </div>
                </div>
                
                <div class="input-group-convert">
                    <label for="custom-amount">O ingresa un monto personalizado</label>
                    <input type="number" id="custom-amount" placeholder="Ingresa el monto">
                </div>
                
                <div class="input-group-convert">
                    <label for="recharge-method">Método de recarga</label>
                    <select id="recharge-method">
                        <option value="qr">QR de recarga</option>
                        <option value="card">Tarjeta de crédito/débito</option>
                        <option value="transfer">Transferencia bancaria</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn modal-btn-secondary" id="cancel-recharge">Cancelar</button>
                <button class="modal-btn modal-btn-primary" id="confirm-recharge">
                    <span id="recharge-text">Recargar</span>
                    <span class="loading-spinner" id="recharge-spinner" style="display: none;"></span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Transferencia -->
    <div class="modal" id="transfer-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Realizar Transferencia</div>
                <div class="close-modal" id="close-transfer">&times;</div>
            </div>
            <div class="modal-body">
                <div class="transfer-input-group">
                    <label for="transfer-amount">Monto</label>
                    <input type="number" id="transfer-amount" placeholder="Ingresa el monto">
                </div>
                
                <div class="transfer-input-group">
                    <label for="transfer-currency">Moneda</label>
                    <select id="transfer-currency">
                        <option value="BOB">Bolivianos (Bs.)</option>
                        <option value="XLM">Stellar Lumens (XLM)</option>
                        <option value="USDT">Tether (USDT)</option>
                    </select>
                </div>
                
                <div class="transfer-input-group">
                    <label for="transfer-destination">Destino</label>
                    <input type="text" id="transfer-destination" placeholder="Ingresa el código QR, teléfono o dirección Stellar">
                </div>
                
                <div class="transfer-input-group">
                    <label for="transfer-message">Mensaje (opcional)</label>
                    <input type="text" id="transfer-message" placeholder="Ingresa un mensaje">
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn modal-btn-secondary" id="cancel-transfer">Cancelar</button>
                <button class="modal-btn modal-btn-primary" id="confirm-transfer">
                    <span id="transfer-text">Transferir</span>
                    <span class="loading-spinner" id="transfer-spinner" style="display: none;"></span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Pago -->
    <div class="modal" id="pay-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Realizar Pago</div>
                <div class="close-modal" id="close-pay">&times;</div>
            </div>
            <div class="modal-body">
                <div class="transfer-input-group">
                    <label for="pay-amount">Monto</label>
                    <input type="number" id="pay-amount" placeholder="Ingresa el monto">
                </div>
                
                <div class="transfer-input-group">
                    <label for="pay-currency">Moneda</label>
                    <select id="pay-currency">
                        <option value="BOB">Bolivianos (Bs.)</option>
                        <option value="XLM">Stellar Lumens (XLM)</option>
                        <option value="USDT">Tether (USDT)</option>
                    </select>
                </div>
                
                <div class="transfer-input-group">
                    <label for="pay-qr">Escanear código QR</label>
                    <button class="modal-btn modal-btn-secondary" id="scan-qr" style="width: 100%;">
                        <i class="fas fa-qrcode"></i> Escanear QR
                    </button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn modal-btn-secondary" id="cancel-pay">Cancelar</button>
                <button class="modal-btn modal-btn-primary" id="confirm-pay">
                    <span id="pay-text">Pagar</span>
                    <span class="loading-spinner" id="pay-spinner" style="display: none;"></span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Servicios mejorado -->
    <div class="modal" id="services-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Pago de Servicios</div>
                <div class="close-modal" id="close-services">&times;</div>
            </div>
            <div class="modal-body">
                <div class="services-modal-grid">
                    <div class="service-modal-item" id="service-mobile">
                        <div class="service-modal-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="service-modal-name">Recarga móvil</div>
                    </div>
                    
                    <div class="service-modal-item" id="service-electricity">
                        <div class="service-modal-icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <div class="service-modal-name">Luz</div>
                    </div>
                    
                    <div class="service-modal-item" id="service-water">
                        <div class="service-modal-icon">
                            <i class="fas fa-tint"></i>
                        </div>
                        <div class="service-modal-name">Agua</div>
                    </div>
                    
                    <div class="service-modal-item" id="service-gas">
                        <div class="service-modal-icon">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="service-modal-name">Gas</div>
                    </div>
                    
                    <div class="service-modal-item" id="service-internet">
                        <div class="service-modal-icon">
                            <i class="fas fa-wifi"></i>
                        </div>
                        <div class="service-modal-name">Internet</div>
                    </div>
                    
                    <div class="service-modal-item" id="service-tv">
                        <div class="service-modal-icon">
                            <i class="fas fa-tv"></i>
                        </div>
                        <div class="service-modal-name">TV Cable</div>
                    </div>
                    
                    <div class="service-modal-item" id="service-collective">
                        <div class="service-modal-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="service-modal-name">Cartera grupal</div>
                    </div>
                    
                    <div class="service-modal-item" id="service-microcredit">
                        <div class="service-modal-icon">
                            <i class="fas fa-hand-holding-usd"></i>
                        </div>
                        <div class="service-modal-name">Microcrédito</div>
                    </div>
                    
                    <div class="service-modal-item" id="service-taxes">
                        <div class="service-modal-icon">
                            <i class="fas fa-file-invoice-dollar"></i>
                        </div>
                        <div class="service-modal-name">Impuestos</div>
                    </div>
                    
                    <div class="service-modal-item" id="service-education">
                        <div class="service-modal-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <div class="service-modal-name">Educación</div>
                    </div>
                    
                    <div class="service-modal-item" id="service-insurance">
                        <div class="service-modal-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="service-modal-name">Seguros</div>
                    </div>
                    
                    <div class="service-modal-item" id="service-charity">
                        <div class="service-modal-icon">
                            <i class="fas fa-hand-holding-heart"></i>
                        </div>
                        <div class="service-modal-name">Donaciones</div>
                    </div>
                </div>
                
                <div class="input-group-convert">
                    <label for="service-amount">Monto a pagar</label>
                    <input type="number" id="service-amount" placeholder="Ingresa el monto">
                </div>
                
                <div class="input-group-convert">
                    <label for="service-currency">Moneda de pago</label>
                    <select id="service-currency">
                        <option value="BOB">Bolivianos (Bs.)</option>
                        <option value="XLM">Stellar Lumens (XLM)</option>
                        <option value="USDT">Tether (USDT)</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn modal-btn-secondary" id="cancel-services">Cancelar</button>
                <button class="modal-btn modal-btn-primary" id="confirm-services">
                    <span id="services-text">Pagar</span>
                    <span class="loading-spinner" id="services-spinner" style="display: none;"></span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Lugares con más información -->
    <div class="place-details-modal" id="place-details-modal">
        <div class="place-details-content">
            <div class="place-details-header">
                <div class="place-details-title" id="place-details-title">Café Stellar</div>
                <div class="close-modal" id="close-place-details">&times;</div>
            </div>
            
            <div class="place-details-image" id="place-details-image" style="background-image: url('https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60')"></div>
            
            <div class="place-details-info">
                <div class="place-details-info-item">
                    <div class="place-details-info-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div class="place-details-info-text" id="place-address">Av. Arce #1234, La Paz</div>
                </div>
                
                <div class="place-details-info-item">
                    <div class="place-details-info-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="place-details-info-text" id="place-hours">Lun-Vie: 8:00 - 22:00 | Sáb-Dom: 9:00 - 23:00</div>
                </div>
                
                <div class="place-details-info-item">
                    <div class="place-details-info-icon">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <div class="place-details-info-text" id="place-payment">Acepta: XLM, USDT, BOB</div>
                </div>
            </div>
            
            <div class="place-details-description" id="place-description">
                Café Stellar es un lugar acogedor en el corazón de la ciudad que ofrece café de especialidad y deliciosos postres. Fue el primer establecimiento en la ciudad en aceptar pagos con Stellar Lumens. Ambiente ideal para trabajar o reunirse con amigos.
            </div>
            
            <div class="place-details-actions">
                <button class="place-details-btn place-details-btn-primary" id="navigate-to-place">
                    <i class="fas fa-map-marked-alt"></i> Cómo llegar
                </button>
                <button class="place-details-btn place-details-btn-secondary" id="pay-at-place">
                    <i class="fas fa-qrcode"></i> Pagar ahora
                </button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Conversión Exitosa -->
    <div class="modal" id="convert-success-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Conversión Exitosa</div>
                <div class="close-modal" id="close-convert-success">&times;</div>
            </div>
            <div class="modal-body" style="text-align: center;">
                <i class="fas fa-check-circle" style="font-size: 50px; color: var(--success); margin-bottom: 20px;"></i>
                <p>¡Tu conversión en Stellar se ha completado con éxito!</p>
                <p id="convert-result" style="font-weight: bold; margin: 15px 0;"></p>
                <p>Los fondos han sido transferidos a tu billetera.</p>
            </div>
            <div class="modal-footer" style="justify-content: center;">
                <button class="modal-btn modal-btn-primary" id="close-convert-success-btn">Aceptar</button>
            </div>
        </div>
    </div>
    
    <script>
        // Elementos del DOM
        const registerScreen = document.getElementById('register-screen');
        const mainScreen = document.getElementById('main-screen');
        const cryptoScreen = document.getElementById('crypto-screen');
        const convertScreen = document.getElementById('convert-screen');
        const balanceScreen = document.getElementById('balance-screen');
        const qrScreen = document.getElementById('qr-screen');
        
        // Botones de registro/login
        const registerBtn = document.getElementById('register-btn');
        const registerText = document.getElementById('register-text');
        const registerSpinner = document.getElementById('register-spinner');
        const loginLink = document.getElementById('login-link');
        const togglePassword = document.getElementById('toggle-password');
        
        // Botones principales
        const rechargeBtn = document.getElementById('recharge-btn');
        const transferBtn = document.getElementById('transfer-btn');
        const payBtn = document.getElementById('pay-btn');
        const servicesBtn = document.getElementById('services-btn');
        const remittanceBtn = document.getElementById('remittance-btn');
        const placesBtn = document.getElementById('places-btn');
        const buyXlmBtn = document.getElementById('buy-xlm');
        const sellXlmBtn = document.getElementById('sell-xlm');
        
        // Navegación principal
        const navHome = document.getElementById('nav-home');
        const navCrypto = document.getElementById('nav-crypto');
        const navConvert = document.getElementById('nav-convert');
        const navBalance = document.getElementById('nav-balance');
        const navQr = document.getElementById('nav-qr');
        
        // Navegación desde crypto
        const navCryptoHome = document.getElementById('nav-crypto-home');
        const navCryptoCrypto = document.getElementById('nav-crypto-crypto');
        const navCryptoConvert = document.getElementById('nav-crypto-convert');
        const navCryptoBalance = document.getElementById('nav-crypto-balance');
        const navCryptoQr = document.getElementById('nav-crypto-qr');
        
        // Navegación desde convert
        const navConvertHome = document.getElementById('nav-convert-home');
        const navConvertCrypto = document.getElementById('nav-convert-crypto');
        const navConvertConvert = document.getElementById('nav-convert-convert');
        const navConvertBalance = document.getElementById('nav-convert-balance');
        const navConvertQr = document.getElementById('nav-convert-qr');
        
        // Navegación desde balance
        const navBalanceHome = document.getElementById('nav-balance-home');
        const navBalanceCrypto = document.getElementById('nav-balance-crypto');
        const navBalanceConvert = document.getElementById('nav-balance-convert');
        const navBalanceBalance = document.getElementById('nav-balance-balance');
        const navBalanceQr = document.getElementById('nav-balance-qr');
        
        // Navegación desde QR
        const navQrHome = document.getElementById('nav-qr-home');
        const navQrCrypto = document.getElementById('nav-qr-crypto');
        const navQrConvert = document.getElementById('nav-qr-convert');
        const navQrBalance = document.getElementById('nav-qr-balance');
        const navQrQr = document.getElementById('nav-qr-qr');
        
        // Tabs de saldos
        const tabLocal = document.getElementById('tab-local');
        const tabCrypto = document.getElementById('tab-crypto');
        const localBalance = document.getElementById('local-balance');
        const cryptoBalance = document.getElementById('crypto-balance');
        
        // Formulario de conversión
        const convertFrom = document.getElementById('convert-from');
        const convertTo = document.getElementById('convert-to');
        const convertAmount = document.getElementById('convert-amount');
        const convertBtn = document.getElementById('convert-btn');
        const convertText = document.getElementById('convert-text');
        const convertSpinner = document.getElementById('convert-spinner');
        
        // Modales
        const buyCryptoModal = document.getElementById('buy-crypto-modal');
        const sellCryptoModal = document.getElementById('sell-crypto-modal');
        const rechargeModal = document.getElementById('recharge-modal');
        const transferModal = document.getElementById('transfer-modal');
        const payModal = document.getElementById('pay-modal');
        const servicesModal = document.getElementById('services-modal');
        const placeDetailsModal = document.getElementById('place-details-modal');
        const convertSuccessModal = document.getElementById('convert-success-modal');
        const convertResult = document.getElementById('convert-result');
        
        // Botones de carga
        const buyText = document.getElementById('buy-text');
        const buySpinner = document.getElementById('buy-spinner');
        const sellText = document.getElementById('sell-text');
        const sellSpinner = document.getElementById('sell-spinner');
        const rechargeText = document.getElementById('recharge-text');
        const rechargeSpinner = document.getElementById('recharge-spinner');
        const transferText = document.getElementById('transfer-text');
        const transferSpinner = document.getElementById('transfer-spinner');
        const payText = document.getElementById('pay-text');
        const paySpinner = document.getElementById('pay-spinner');
        const servicesText = document.getElementById('services-text');
        const servicesSpinner = document.getElementById('services-spinner');
        
        // Opciones de recarga
        const rechargeOptions = document.querySelectorAll('.recharge-option');
        const customAmount = document.getElementById('custom-amount');
        
        // Lugares
        const placeCards = document.querySelectorAll('.place-card');
        
        // Tasas de conversión (simuladas)
        const exchangeRates = {
            XLM: 0.85,  // 1 XLM = 0.85 Bs.
            USDT: 6.9,  // 1 USDT = 6.9 Bs.
            USD: 6.9    // 1 USD = 6.9 Bs.
        };
        
        // Datos de lugares
        const placesData = {
            'cafe-stellar': {
                title: 'Café Stellar',
                image: 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
                address: 'Av. Arce #1234, La Paz',
                hours: 'Lun-Vie: 8:00 - 22:00 | Sáb-Dom: 9:00 - 23:00',
                payment: 'Acepta: XLM, USDT, BOB',
                description: 'Café Stellar es un lugar acogedor en el corazón de la ciudad que ofrece café de especialidad y deliciosos postres. Fue el primer establecimiento en la ciudad en aceptar pagos con Stellar Lumens. Ambiente ideal para trabajar o reunirse con amigos.'
            },
            'hotel-lumens': {
                title: 'Hotel Lumens',
                image: 'https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
                address: 'Calle Comercio #567, La Paz',
                hours: 'Abierto 24/7',
                payment: 'Acepta: XLM, USDT, BOB, USD',
                description: 'Hotel de 4 estrellas ubicado en el centro de la ciudad. Ofrece habitaciones cómodas, servicio de spa y restaurante. Ideal para viajeros que usan criptomonedas.'
            },
            'restaurante-xlm': {
                title: 'Restaurante XLM',
                image: 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
                address: 'Av. 16 de Julio #789, La Paz',
                hours: 'Lun-Sáb: 12:00 - 23:00 | Dom: 12:00 - 17:00',
                payment: 'Acepta: XLM, BOB',
                description: 'Restaurante gourmet especializado en cocina fusión. Menú variado con opciones vegetarianas y veganas. Ambiente elegante y servicio excepcional.'
            }
        };
        
        // Funciones para cambiar pantallas
        function showRegisterScreen() {
            registerScreen.style.display = 'flex';
            mainScreen.style.display = 'none';
            cryptoScreen.style.display = 'none';
            convertScreen.style.display = 'none';
            balanceScreen.style.display = 'none';
            qrScreen.style.display = 'none';
        }
        
        function showMainScreen() {
            registerScreen.style.display = 'none';
            mainScreen.style.display = 'flex';
            cryptoScreen.style.display = 'none';
            convertScreen.style.display = 'none';
            balanceScreen.style.display = 'none';
            qrScreen.style.display = 'none';
            
            // Actualizar navegación
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            navHome.classList.add('active');
        }
        
        function showCryptoScreen() {
            registerScreen.style.display = 'none';
            mainScreen.style.display = 'none';
            cryptoScreen.style.display = 'flex';
            convertScreen.style.display = 'none';
            balanceScreen.style.display = 'none';
            qrScreen.style.display = 'none';
            
            // Actualizar navegación
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            navCrypto.classList.add('active');
            navCryptoCrypto.classList.add('active');
        }
        
        function showConvertScreen() {
            registerScreen.style.display = 'none';
            mainScreen.style.display = 'none';
            cryptoScreen.style.display = 'none';
            convertScreen.style.display = 'flex';
            balanceScreen.style.display = 'none';
            qrScreen.style.display = 'none';
            
            // Actualizar navegación
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            navConvert.classList.add('active');
            navConvertConvert.classList.add('active');
        }
        
        function showBalanceScreen() {
            registerScreen.style.display = 'none';
            mainScreen.style.display = 'none';
            cryptoScreen.style.display = 'none';
            convertScreen.style.display = 'none';
            balanceScreen.style.display = 'flex';
            qrScreen.style.display = 'none';
            
            // Actualizar navegación
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            navBalance.classList.add('active');
            navBalanceBalance.classList.add('active');
        }
        
        function showQrScreen() {
            registerScreen.style.display = 'none';
            mainScreen.style.display = 'none';
            cryptoScreen.style.display = 'none';
            convertScreen.style.display = 'none';
            balanceScreen.style.display = 'none';
            qrScreen.style.display = 'flex';
            
            // Actualizar navegación
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            navQr.classList.add('active');
            navQrQr.classList.add('active');
        }
        
        // Función para actualizar las opciones de conversión
        function updateConvertOptions() {
            const fromValue = convertFrom.value;
            const toSelect = convertTo;
            
            // Limpiar opciones
            toSelect.innerHTML = '';
            
            // Agregar opciones según la selección "De"
            if (fromValue === 'BOB') {
                // Si convierte de BOB a cripto
                toSelect.add(new Option('Stellar Lumens (XLM)', 'XLM'));
                toSelect.add(new Option('Tether (USDT)', 'USDT'));
            } else {
                // Si convierte de cripto a BOB u otra cripto
                toSelect.add(new Option('Bolivianos (Bs.)', 'BOB'));
                
                // Agregar otras criptomonedas excepto la seleccionada
                if (fromValue !== 'XLM') toSelect.add(new Option('Stellar Lumens (XLM)', 'XLM'));
                if (fromValue !== 'USDT') toSelect.add(new Option('Tether (USDT)', 'USDT'));
            }
            
            // Actualizar la tasa de cambio mostrada
            updateExchangeRate();
        }
        
        // Función para actualizar la tasa de cambio mostrada
        function updateExchangeRate() {
            const fromValue = convertFrom.value;
            const toValue = convertTo.value;
            
            if (fromValue === 'BOB' && toValue === 'XLM') {
                document.querySelector('.convert-rate').textContent = `Tasa actual: 1 XLM = Bs. ${exchangeRates.XLM.toFixed(2)}`;
            } else if (fromValue === 'XLM' && toValue === 'BOB') {
                document.querySelector('.convert-rate').textContent = `Tasa actual: 1 XLM = Bs. ${exchangeRates.XLM.toFixed(2)}`;
            } else if (fromValue === 'BOB' && toValue === 'USDT') {
                document.querySelector('.convert-rate').textContent = `Tasa actual: 1 USDT = Bs. ${exchangeRates.USDT.toFixed(2)}`;
            } else if (fromValue === 'USDT' && toValue === 'BOB') {
                document.querySelector('.convert-rate').textContent = `Tasa actual: 1 USDT = Bs. ${exchangeRates.USDT.toFixed(2)}`;
            } else {
                // Conversión entre criptomonedas
                const fromRate = fromValue === 'XLM' ? exchangeRates.XLM : exchangeRates.USDT;
                const toRate = toValue === 'XLM' ? exchangeRates.XLM : exchangeRates.USDT;
                const rate = fromRate / toRate;
                document.querySelector('.convert-rate').textContent = `Tasa actual: 1 ${fromValue} = ${rate.toFixed(6)} ${toValue}`;
            }
        }
        
        // Función para realizar la conversión
        function performConversion() {
            const amount = parseFloat(convertAmount.value);
            const fromValue = convertFrom.value;
            const toValue = convertTo.value;
            
            if (isNaN(amount) || amount <= 0) {
                alert('Ingresa un monto válido');
                return;
            }
            
            // Mostrar spinner
            convertText.style.display = 'none';
            convertSpinner.style.display = 'inline-block';
            
            // Simular tiempo de conversión
            setTimeout(() => {
                let resultAmount = 0;
                let resultText = '';
                
                if (fromValue === 'BOB') {
                    // Conversión de BOB a cripto
                    if (toValue === 'XLM') {
                        resultAmount = amount / exchangeRates.XLM;
                        resultText = `Bs. ${amount.toFixed(2)} → ${resultAmount.toFixed(2)} XLM`;
                    } else if (toValue === 'USDT') {
                        resultAmount = amount / exchangeRates.USDT;
                        resultText = `Bs. ${amount.toFixed(2)} → ${resultAmount.toFixed(2)} USDT`;
                    }
                } else if (toValue === 'BOB') {
                    // Conversión de cripto a BOB
                    if (fromValue === 'XLM') {
                        resultAmount = amount * exchangeRates.XLM;
                        resultText = `${amount.toFixed(2)} XLM → Bs. ${resultAmount.toFixed(2)}`;
                    } else if (fromValue === 'USDT') {
                        resultAmount = amount * exchangeRates.USDT;
                        resultText = `${amount.toFixed(2)} USDT → Bs. ${resultAmount.toFixed(2)}`;
                    }
                } else {
                    // Conversión entre criptomonedas
                    const fromRate = fromValue === 'XLM' ? exchangeRates.XLM : exchangeRates.USDT;
                    const toRate = toValue === 'XLM' ? exchangeRates.XLM : exchangeRates.USDT;
                    resultAmount = (amount * fromRate) / toRate;
                    resultText = `${amount.toFixed(6)} ${fromValue} → ${resultAmount.toFixed(6)} ${toValue}`;
                }
                
                // Ocultar spinner
                convertText.style.display = 'inline';
                convertSpinner.style.display = 'none';
                
                // Mostrar resultado en modal
                convertResult.textContent = resultText;
                convertSuccessModal.style.display = 'flex';
            }, 1500);
        }
        
        // Función para cambiar tabs de saldos
        function showBalanceTab(tab) {
            if (tab === 'local') {
                tabLocal.classList.add('active');
                tabCrypto.classList.remove('active');
                localBalance.style.display = 'block';
                cryptoBalance.style.display = 'none';
            } else {
                tabCrypto.classList.add('active');
                tabLocal.classList.remove('active');
                cryptoBalance.style.display = 'block';
                localBalance.style.display = 'none';
            }
        }
        
        // Función para mostrar detalles de un lugar
        function showPlaceDetails(placeId) {
            const placeData = placesData[placeId];
            if (!placeData) return;
            
            document.getElementById('place-details-title').textContent = placeData.title;
            document.getElementById('place-details-image').style.backgroundImage = `url('${placeData.image}')`;
            document.getElementById('place-address').textContent = placeData.address;
            document.getElementById('place-hours').textContent = placeData.hours;
            document.getElementById('place-payment').textContent = placeData.payment;
            document.getElementById('place-description').textContent = placeData.description;
            
            placeDetailsModal.style.display = 'flex';
        }
        
        // Función para mostrar carga en botones
        function showLoading(buttonType) {
            switch(buttonType) {
                case 'register':
                    registerText.style.display = 'none';
                    registerSpinner.style.display = 'inline-block';
                    break;
                case 'convert':
                    convertText.style.display = 'none';
                    convertSpinner.style.display = 'inline-block';
                    break;
                case 'buy':
                    buyText.style.display = 'none';
                    buySpinner.style.display = 'inline-block';
                    break;
                case 'sell':
                    sellText.style.display = 'none';
                    sellSpinner.style.display = 'inline-block';
                    break;
                case 'recharge':
                    rechargeText.style.display = 'none';
                    rechargeSpinner.style.display = 'inline-block';
                    break;
                case 'transfer':
                    transferText.style.display = 'none';
                    transferSpinner.style.display = 'inline-block';
                    break;
                case 'pay':
                    payText.style.display = 'none';
                    paySpinner.style.display = 'inline-block';
                    break;
                case 'services':
                    servicesText.style.display = 'none';
                    servicesSpinner.style.display = 'inline-block';
                    break;
            }
        }
        
        // Función para ocultar carga en botones
        function hideLoading(buttonType) {
            switch(buttonType) {
                case 'register':
                    registerText.style.display = 'inline';
                    registerSpinner.style.display = 'none';
                    break;
                case 'convert':
                    convertText.style.display = 'inline';
                    convertSpinner.style.display = 'none';
                    break;
                case 'buy':
                    buyText.style.display = 'inline';
                    buySpinner.style.display = 'none';
                    break;
                case 'sell':
                    sellText.style.display = 'inline';
                    sellSpinner.style.display = 'none';
                    break;
                case 'recharge':
                    rechargeText.style.display = 'inline';
                    rechargeSpinner.style.display = 'none';
                    break;
                case 'transfer':
                    transferText.style.display = 'inline';
                    transferSpinner.style.display = 'none';
                    break;
                case 'pay':
                    payText.style.display = 'inline';
                    paySpinner.style.display = 'none';
                    break;
                case 'services':
                    servicesText.style.display = 'inline';
                    servicesSpinner.style.display = 'none';
                    break;
            }
        }
        
        // Event Listeners
        registerBtn.addEventListener('click', () => {
            // Validar formulario de registro aquí
            showLoading('register');
            
            // Simular registro exitoso
            setTimeout(() => {
                hideLoading('register');
                showMainScreen();
            }, 1500);
        });
        
        loginLink.addEventListener('click', (e) => {
            e.preventDefault();
            // Simular login exitoso
            showMainScreen();
        });
        
        togglePassword.addEventListener('click', () => {
            const passwordInput = document.getElementById('password');
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                togglePassword.className = 'fas fa-eye-slash input-icon';
            } else {
                passwordInput.type = 'password';
                togglePassword.className = 'fas fa-eye input-icon';
            }
        });
        
        // Botones principales
        rechargeBtn.addEventListener('click', () => {
            rechargeModal.style.display = 'flex';
        });
        
        transferBtn.addEventListener('click', () => {
            transferModal.style.display = 'flex';
        });
        
        payBtn.addEventListener('click', () => {
            payModal.style.display = 'flex';
        });
        
        servicesBtn.addEventListener('click', () => {
            servicesModal.style.display = 'flex';
        });
        
        placesBtn.addEventListener('click', () => {
            // Mostrar el primer lugar por defecto
            showPlaceDetails('cafe-stellar');
        });
        
        remittanceBtn.addEventListener('click', () => {
            // Configurar transferencia internacional por defecto
            document.getElementById('transfer-currency').value = 'USDT';
            document.getElementById('transfer-destination').placeholder = 'Ingresa teléfono, email o dirección Stellar';
            transferModal.style.display = 'flex';
        });
        
        buyXlmBtn.addEventListener('click', () => {
            document.getElementById('crypto-currency').value = 'XLM';
            buyCryptoModal.style.display = 'flex';
        });
        
        sellXlmBtn.addEventListener('click', () => {
            document.getElementById('sell-crypto-currency').value = 'XLM';
            sellCryptoModal.style.display = 'flex';
        });
        
        // Navegación principal
        navHome.addEventListener('click', showMainScreen);
        navCrypto.addEventListener('click', showCryptoScreen);
        navConvert.addEventListener('click', showConvertScreen);
        navBalance.addEventListener('click', showBalanceScreen);
        navQr.addEventListener('click', showQrScreen);
        
        // Navegación desde crypto
        navCryptoHome.addEventListener('click', showMainScreen);
        navCryptoCrypto.addEventListener('click', showCryptoScreen);
        navCryptoConvert.addEventListener('click', showConvertScreen);
        navCryptoBalance.addEventListener('click', showBalanceScreen);
        navCryptoQr.addEventListener('click', showQrScreen);
        
        // Navegación desde convert
        navConvertHome.addEventListener('click', showMainScreen);
        navConvertCrypto.addEventListener('click', showCryptoScreen);
        navConvertConvert.addEventListener('click', showConvertScreen);
        navConvertBalance.addEventListener('click', showBalanceScreen);
        navConvertQr.addEventListener('click', showQrScreen);
        
        // Navegación desde balance
        navBalanceHome.addEventListener('click', showMainScreen);
        navBalanceCrypto.addEventListener('click', showCryptoScreen);
        navBalanceConvert.addEventListener('click', showConvertScreen);
        navBalanceBalance.addEventListener('click', showBalanceScreen);
        navBalanceQr.addEventListener('click', showQrScreen);
        
        // Navegación desde QR
        navQrHome.addEventListener('click', showMainScreen);
        navQrCrypto.addEventListener('click', showCryptoScreen);
        navQrConvert.addEventListener('click', showConvertScreen);
        navQrBalance.addEventListener('click', showBalanceScreen);
        navQrQr.addEventListener('click', showQrScreen);
        
        // Tabs de saldos
                tabLocal.addEventListener('click', () => showBalanceTab('local'));
        tabCrypto.addEventListener('click', () => showBalanceTab('crypto'));
        
        // Formulario de conversión
        convertFrom.addEventListener('change', updateConvertOptions);
        convertTo.addEventListener('change', updateExchangeRate);
        convertBtn.addEventListener('click', performConversion);
        
        // Opciones de recarga
        rechargeOptions.forEach(option => {
            option.addEventListener('click', () => {
                rechargeOptions.forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');
                customAmount.value = option.dataset.amount;
            });
        });
        
        customAmount.addEventListener('input', () => {
            rechargeOptions.forEach(opt => opt.classList.remove('active'));
        });
        
        // Lugares
        placeCards.forEach(card => {
            card.addEventListener('click', () => {
                const placeId = card.dataset.place;
                showPlaceDetails(placeId);
            });
        });
        
        // Cerrar modales
        document.querySelectorAll('.close-modal').forEach(closeBtn => {
            closeBtn.addEventListener('click', () => {
                closeBtn.closest('.modal').style.display = 'none';
                closeBtn.closest('.place-details-modal').style.display = 'none';
            });
        });
        
        document.getElementById('close-convert-success-btn').addEventListener('click', () => {
            convertSuccessModal.style.display = 'none';
        });
        
        // Confirmar acciones en modales
        document.getElementById('confirm-buy-crypto').addEventListener('click', () => {
            showLoading('buy');
            setTimeout(() => {
                hideLoading('buy');
                buyCryptoModal.style.display = 'none';
                alert('Compra realizada con éxito');
            }, 1500);
        });
        
        document.getElementById('confirm-sell-crypto').addEventListener('click', () => {
            showLoading('sell');
            setTimeout(() => {
                hideLoading('sell');
                sellCryptoModal.style.display = 'none';
                alert('Venta realizada con éxito');
            }, 1500);
        });
        
        document.getElementById('confirm-recharge').addEventListener('click', () => {
            showLoading('recharge');
            setTimeout(() => {
                hideLoading('recharge');
                rechargeModal.style.display = 'none';
                alert('Recarga realizada con éxito');
            }, 1500);
        });
        
        document.getElementById('confirm-transfer').addEventListener('click', () => {
            showLoading('transfer');
            setTimeout(() => {
                hideLoading('transfer');
                transferModal.style.display = 'none';
                alert('Transferencia realizada con éxito');
            }, 1500);
        });
        
        document.getElementById('confirm-pay').addEventListener('click', () => {
            showLoading('pay');
            setTimeout(() => {
                hideLoading('pay');
                payModal.style.display = 'none';
                alert('Pago realizado con éxito');
            }, 1500);
        });
        
        document.getElementById('confirm-services').addEventListener('click', () => {
            showLoading('services');
            setTimeout(() => {
                hideLoading('services');
                servicesModal.style.display = 'none';
                alert('Pago de servicio realizado con éxito');
            }, 1500);
        });
        
        // Botones de lugares
        document.getElementById('navigate-to-place').addEventListener('click', () => {
            alert('Redirigiendo a mapa...');
        });
        
        document.getElementById('pay-at-place').addEventListener('click', () => {
            placeDetailsModal.style.display = 'none';
            payModal.style.display = 'flex';
        });
        
        // Mostrar pantalla de registro al cargar
        showRegisterScreen();
        updateConvertOptions();
    </script>
</body>
</html>
       
